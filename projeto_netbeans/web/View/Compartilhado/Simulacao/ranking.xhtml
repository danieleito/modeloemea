<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    
    
    
    <h:body>
        <ui:composition template="/View/Compartilhado/template.xhtml">
            <ui:define name="content">
                <h:form id="form">
                    
                    <f:metadata>
                        <f:event type="preRenderView" listener="#{simulacaoBean.recarregarSimulacao()}"/>
                    </f:metadata>
                    
                    <p:breadCrumb>
                        <p:menuitem value="Categories" url="#" />
                        <p:menuitem value="Início" url="/View/Compartilhado/inicio.jsf" />
                        <p:menuitem value="Simulação" action="#{simulacaoBean.listarGet()}" />
                        <p:menuitem value="Ranking" url="/View/Compartilhado/Simulacao/ranking.jsf" />
                    </p:breadCrumb>
                    
                    <div class="row">
                        <p:outputLabel>Nome da simulação: #{simulacaoBean.simulacao.nomeSimulacao}</p:outputLabel>
                    </div>
                    <br/>
                    <br/>
                    
                    <h:form>
                        <p:gmap center="36.890257,30.707417" zoom="15" type="HYBRID"  style="width:100%;height:400px" >
                            <p:ajax event="overlaySelect" listener="#{simulacaoBean.onMarkerSelect}" />
 
                            <p:gmapInfoWindow id="infoWindow">
                                <p:outputPanel style="text-align: center; display: block; margin: auto">
                                    <p:graphicImage value="#http://www.freeiconspng.com/uploads/maps-icon-11.png" style="height: 77px; width: 100px" title="#{image}" alt="Image Description for #{image}" />
                                    <br />
                                    <h:outputText value="#{simulacaoBean.marker.title}" />

                                </p:outputPanel>
                            </p:gmapInfoWindow>
                        </p:gmap>
                        
                        <!-- Preload for demo -->
                        <p:outputPanel style="display:none">
<!--                            <p:graphicImage name="/demo/images/antalya/konyaalti.png" />
                            <p:graphicImage name="/demo/images/antalya/ataturkparki.png" />
                            <p:graphicImage name="/demo/images/antalya/kaleici.png" />
                            <p:graphicImage name="/demo/images/antalya/karaalioglu.png" />-->
                        </p:outputPanel>
                    </h:form>
                    
                    <p:separator />
                    
                    <p:commandButton value="Consultar" action="#{ponteBean.consultarGet()}" />
                    <p:commandButton value="Imprimir relatórios" action="#{ponteBean.consultarGet()}" />
                    
                    <p:tabView>
                        <p:tab title="Ranking">
                                <ui:include src="/View/Compartilhado/OAE/Ranking/ranking.xhtml" />
                        </p:tab>

                        <p:tab title="Gráficos">
                            <ui:include src="/View/Compartilhado/OAE/Ranking/grafico.xhtml" />
                        </p:tab>
                        
                        
                    </p:tabView>
                    
                    
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>